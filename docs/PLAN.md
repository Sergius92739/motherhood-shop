# üìã –ü–û–õ–ù–´–ô –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò –° –ì–ò–ë–†–ò–î–ù–´–ú TDD –ü–û–î–•–û–î–û–ú

## üìã –û–ë–©–ê–Ø –§–ò–õ–û–°–û–§–ò–Ø –ò –ü–†–ê–í–ò–õ–ê

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. TDD –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ - –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã, —É—Ç–∏–ª–∏—Ç—ã, —Ö–µ–ª–ø–µ—Ä—ã —Å –ª–æ–≥–∏–∫–æ–π —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ü–∏–∫–ª "–ö—Ä–∞—Å–Ω—ã–π ‚Üí –ó–µ–ª–µ–Ω—ã–π ‚Üí –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥"

2. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–ª—è UI/–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º post-factum

3. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å–Ω–∞—á–∞–ª–∞ - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

4. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–µ–∑–¥–µ - –í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ/–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Zod —Å—Ö–µ–º—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è (—à–∞–±–ª–æ–Ω)

```text
modules/[module-name]/
‚îú‚îÄ‚îÄ types/              # TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ schemas/           # Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å—Ç—Ä–æ–≥–∏–π TDD)
‚îú‚îÄ‚îÄ __tests__/         # –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ api/              # Next.js Route Handlers
‚îú‚îÄ‚îÄ hooks/            # React hooks (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
‚îî‚îÄ‚îÄ index.ts          # –ü—É–±–ª–∏—á–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª—è
```

## üìÖ –î–ï–¢–ê–õ–¨–ù–´–ô –ü–û–≠–¢–ê–ü–ù–´–ô –ü–õ–ê–ù

### –§–ê–ó–ê 1: –§–£–ù–î–ê–ú–ï–ù–¢ (2.5 –Ω–µ–¥–µ–ª–∏)

#### –°–ø—Ä–∏–Ω—Ç 1.1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ Auth –º–æ–¥—É–ª—å (–î–Ω–∏ 1-7)

| –î–µ–Ω—å | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | TDD –ø–æ–¥—Ö–æ–¥         | –¢–µ—Å—Ç—ã                       |
| ---- | ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | --------------------------- |
| 1    | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞        | 1. `package.json` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏<br>2. `tsconfig.json` —Å paths<br>3. `tailwind.config.js`<br>4. `docker-compose.yml` –¥–ª—è PostgreSQL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π       | -                           |
| 2    | Prisma –∏ –±–∞–∑–∞            | 1. `prisma/schema.prisma` —Å –º–æ–¥–µ–ª—è–º–∏ User, Session<br>2. `lib/prisma.ts` –∫–ª–∏–µ–Ω—Ç<br>3. –ú–∏–≥—Ä–∞—Ü–∏—è `init`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π       | –ú–∏–≥—Ä–∞—Ü–∏–∏                    |
| 3    | –û–±—â–∏–µ —Ç–∏–ø—ã               | `shared/types/`: `ApiResponse<T>`, `PaginatedResponse`, `UserRole`, `AuthTokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π       | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤              |
| 4    | –ú–æ–¥—É–ª—å Auth: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã  | `auth/types/` : <br>‚Ä¢ `IAuthService` —Å –º–µ—Ç–æ–¥–∞–º–∏ register, login, logout<br>‚Ä¢ `RegisterInput`, `LoginInput`, `AuthResponse`<br>‚Ä¢ `ITokenService`, `IPasswordService`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | TDD (–∫–æ–Ω—Ç—Ä–∞–∫—Ç)     | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è |
| 5    | Auth: Zod —Å—Ö–µ–º—ã          | `auth/schemas/`:<br>‚Ä¢ `register.schema.ts` (email, password strength)<br>‚Ä¢ `login.schema.ts`<br>‚Ä¢ `password-reset.schema.ts`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | TDD                | –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏             |
| 6    | Auth: –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞      | `auth/__tests__/AuthService.test.ts` : <br><br>`describe('AuthService', () => {`<br> `let service: AuthService;`<br>` beforeEach(() => { service = new AuthService(); });`<br>`test('register should hash password', async () => {`<br> `const input: RegisterInput = {`<br>` email: 'test@test.com',`<br>` password: 'Password123!',`<br>` firstName: 'Test'`<br>` };`<br>` const result = await service.register(input);`<br> `expect(result.user.passwordHash).not.toBe('Password123!');`<br>` expect(result.user.email).toBe('test@test.com');`<br>` });`<br>`});`<br>                                                                                                                                           | TDD (–ö—Ä–∞—Å–Ω–∞—è —Ñ–∞–∑–∞) | –í—Å–µ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç            |
| 7    | Auth: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ | `auth/services/AuthService.ts` : <br><br>`export class AuthService implements IAuthService {`<br>` constructor(private prisma: PrismaClient) {}`<br>` async register(input: RegisterInput): Promise<AuthResponse> {`<br>` // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zod`<br>` const validated = registerSchema.parse(input);`<br>` // 2. –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è`<br>` const passwordHash = await PasswordService.hash(validated.password);`<br>` // 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`<br>` const user = await this.prisma.user.create({`<br>` data: { email: validated.email, passwordHash }`<br>` });`<br>` // 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤`<br>` const tokens = await TokenService.generateTokens(user.id);`<br>` return { user, tokens };`<br>` }`<br>`}` | TDD (–ó–µ–ª–µ–Ω–∞—è —Ñ–∞–∑–∞) | –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç              |

---

#### –°–ø—Ä–∏–Ω—Ç 1.2: –î–æ–ø. —Å–µ—Ä–≤–∏—Å—ã Auth –∏ UI (–î–Ω–∏ 8-14)

| –î–µ–Ω—å | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | TDD –ø–æ–¥—Ö–æ–¥           |     |
| ---- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------- | --- |
| 8    | TokenService     | 1. –¢–µ—Å—Ç—ã –¥–ª—è JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏/–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏<br>2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å jsonwebtoken<br>3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–æ–≤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | –°—Ç—Ä–æ–≥–∏–π TDD          |     |
| 9    | PasswordService  | 1. –¢–µ—Å—Ç—ã –¥–ª—è bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è/–ø—Ä–æ–≤–µ—Ä–∫–∏<br>2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å bcryptjs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | –°—Ç—Ä–æ–≥–∏–π TDD          |     |
| 10   | API Routes Auth  | `app/api/auth/register/route.ts` : <br><br>`export async function POST(request: Request) {`<br> `try {`<br> `const body = await request.json();`<br> `const validated = registerSchema.parse(body);`<br> `const authService = new AuthService(prisma);`<br> `const result = await authService.register(validated);`<br> `return NextResponse.json(`<br> `{ success: true, data: result },`<br> `{ status: 201 }`<br> `);`<br>` } catch (error) {`<br>` if (error instanceof ZodError) {`<br>` return NextResponse.json(`<br>` { success: false, error: error.errors },`<br>` { status: 400 }`<br>` );`<br>` }`<br>` return NextResponse.json(`<br>` { success: false, error: 'Internal error' },`<br>` { status: 500 }`<br>` );`<br>` }`<br>`}`<br> | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π         |     |
| 11   | React Hooks Auth | `auth/hooks/useAuth.ts` : <br><br>`export const useRegister = () => {`<br>` const [isLoading, setIsLoading] = useState(false);`<br>` const [error, setError] = useState<string \| null>(null);`<br><br>` const register = async (data: RegisterInput) => {`<br>` setIsLoading(true);`<br>` try {`<br>` const response = await fetch('/api/auth/register', {`<br>` method: 'POST',`<br>` body: JSON.stringify(data)`<br>` });`<br>` if (!response.ok) throw new Error('Registration failed');`<br>` // –î–∏—Å–ø–∞—Ç—á –≤ Redux, —Ä–µ–¥–∏—Ä–µ–∫—Ç –∏ —Ç.–¥.`<br>` } catch (err) {`<br>` setError(err.message);`<br>` } finally {`<br>` setIsLoading(false);`<br>` }`<br>` };`<br><br>` return { register, isLoading, error };`<br>`};`                                   | TDD-light            |     |
| 12   | UI Components    | `components/ui/Button.tsx`, `Input.tsx`, `Card.tsx` —Å –ø–æ–ª–Ω–æ–π TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã   |     |
| 13   | Redux Store      | `store/authSlice.ts`, `store/cartSlice.ts` —Å —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è reducer –ª–æ–≥–∏–∫–∏                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | TDD –¥–ª—è reducers     |     |
| 14   | Middleware       | `middleware.ts` –¥–ª—è –∑–∞—â–∏—Ç—ã —Ä–æ—É—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∏ JWT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã |     |

---

### –§–ê–ó–ê 2: –ö–ê–¢–ê–õ–û–ì –ò –ö–û–†–ó–ò–ù–ê (3 –Ω–µ–¥–µ–ª–∏)

#### –°–ø—Ä–∏–Ω—Ç 2.1: –ú–æ–¥—É–ª—å Catalog (–î–Ω–∏ 15-21)

| –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                 | –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞                                |     |
| ------------------ | ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- | --- |
| 1                  | Prisma –º–æ–¥–µ–ª–∏             | –†–∞—Å—à–∏—Ä–∏—Ç—å `schema.prisma`: Product, Category, ProductVariant, ProductImage                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `npx prisma migrate dev --name add-catalog` |     |
| 2                  | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Catalog        | `catalog/types/` : <br><br>`export interface ICatalogService {`<br>` getProducts(filters: ProductFilters): Promise<Product[]>;`<br>` getProductBySlug(slug: string): Promise<ProductDetail>;`<br>` getCategories(): Promise<Category[]>;`<br>`}`<br><br>`export interface ProductFilters {`<br>` categoryId?: string;`<br>` minPrice?: number;`<br>` maxPrice?: number;`<br>` attributes?: Record<string, string>;`<br>` page?: number;`<br>` limit?: number;`<br>`}`                                                                                                                                                                                                                                                                                                             | TDD (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)                             |     |
| 3                  | Zod —Å—Ö–µ–º—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤        | `catalog/schemas/product-filters.schema.ts` : <br><br>`export const productFiltersSchema = z.object({`<br>` categoryId: z.string().uuid().optional(),`<br>` minPrice: z.number().min(0).optional(),`<br>` maxPrice: z.number().min(0).optional(),`<br>` page: z.number().int().positive().default(1),`<br>` limit: z.number().int().min(1).max(100).default(20)`<br>`}).refine(data => {`<br>` if (data.minPrice && data.maxPrice) {`<br>` return data.maxPrice >= data.minPrice;`<br>` }`<br>` return true;`<br>`}, 'Max price must be >= min price');`<br>                                                                                                                                                                                                                      | TDD —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏                         |     |
| 4                  | –¢–µ—Å—Ç—ã CatalogService      | `catalog/__tests__/CatalogService.test.ts` : <br><br>`describe('CatalogService.getProducts', () => {`<br>` it('should filter by category', async () => {`<br>` const filters = { categoryId: 'cat-123' };`<br>` const result = await service.getProducts(filters);`<br>` expect(result).toHaveLength(5);`<br>` expect(result[0].categoryId).toBe('cat-123');`<br>` });`<br><br>` it('should paginate results', async () => {`<br>` const filters = { page: 2, limit: 10 };`<br>` const result = await service.getProducts(filters);`<br>` expect(result).toHaveLength(10);`<br>` // –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ —ç—Ç–æ –≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞`<br>` });`<br>`});`<br>                                                                                                                                     | TDD (–ö—Ä–∞—Å–Ω–∞—è —Ñ–∞–∑–∞)                          |     |
| 5                  | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CatalogService | `catalog/services/CatalogService.ts`:<br><br>`export class CatalogService implements ICatalogService {`<br>` async getProducts(filters: ProductFilters): Promise<Product[]> {`<br>` const validated = productFiltersSchema.parse(filters);`<br>` const where: Prisma.ProductWhereInput = {};`<br><br>` if (validated.categoryId) {`<br>` where.categoryId = validated.categoryId;`<br>` }`<br><br>` if (validated.minPrice \|\| validated.maxPrice) {`<br> `where.price = {`<br>` gte: validated.minPrice,`<br>` lte: validated.maxPrice`<br>` };`<br>` }`<br><br>` return prisma.product.findMany({`<br>` where,`<br>` skip: (validated.page - 1) * validated.limit,`<br>` take: validated.limit,`<br>` include: { images: true, category: true }`<br>` });`<br>` }`<br>`}`<br>` | TDD (–ó–µ–ª–µ–Ω–∞—è —Ñ–∞–∑–∞)                          |     |
| 6                  | API Routes –∫–∞—Ç–∞–ª–æ–≥–∞       | `app/api/catalog/products/route.ts` (GET —Å query params)<br>`app/api/catalog/products/[slug]/route.ts`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã                        |     |

#### –°–ø—Ä–∏–Ω—Ç 2.2: –ú–æ–¥—É–ª—å Cart (–î–Ω–∏ 22-28)

| –®–∞–≥ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è                                                                                                                                                                                                                                                                                                                                                                                                                         | –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Å—Ç—ã     |     |
| --- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | --- |
| 1   | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–æ—Ä–∑–∏–Ω—ã | `cart/types/`:<br><br>`export interface ICartService {`<br>` getCart(userId?: string, sessionId?: string): Promise<Cart>;`<br>` addItem(input: AddToCartInput): Promise<Cart>;`<br>` updateItem(itemId: string, quantity: number): Promise<Cart>;`<br>` removeItem(itemId: string): Promise<Cart>;`<br>` clearCart(userId?: string, sessionId?: string): Promise<void>;`<br>` calculateTotals(cart: Cart): CartTotals;`<br>`}`<br> | –ö–æ–Ω—Ç—Ä–∞–∫—Ç TDD       |     |
| 2   | –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏    | `cart/schemas/add-to-cart.schema.ts`:<br><br>`export const addToCartSchema = z.object({`<br>` productId: z.string().uuid(),`<br>` variantId: z.string().uuid().optional(),`<br>` quantity: z.number().int().positive().max(10)`<br>`});`<br>                                                                                                                                                                                       | Edge cases —Ç–µ—Å—Ç—ã   |     |
| 3   | –¢–µ—Å—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã      | –¢–µ—Å—Ç—ã –¥–ª—è:<br>‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–æ–º<br>‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞<br>‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è max quantity<br>‚Ä¢ –†–∞—Å—á–µ—Ç–æ–≤ —Å –Ω–∞–ª–æ–≥–∞–º–∏/–¥–æ—Å—Ç–∞–≤–∫–æ–π<br>‚Ä¢ –°–ª–∏—è–Ω–∏—è –≥–æ—Å—Ç–µ–≤–æ–π/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ—Ä–∑–∏–Ω                                                                                                                                                                                                                                            | –ü–æ–¥—Ä–æ–±–Ω—ã–µ TDD      |     |
| 4   | CartService        | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å:<br>‚Ä¢ LocalStorage –¥–ª—è –≥–æ—Å—Ç–µ–π<br>‚Ä¢ –ë–î –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö<br>‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏–µ–π –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞<br>‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è                                                                                                                                                                                                                                                                                                      | TDD –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ     |     |
| 5   | Redux cart slice   | –¢–µ—Å—Ç—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è slice —Å async thunks                                                                                                                                                                                                                                                                                                                                                                                            | TDD                |     |
| 6   | Cart hooks         | `useCart()` —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏                                                                                                                                                                                                                                                                                                                                                                                          | TDD-light          |     |
| 7   | UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã      | `AddToCartButton.tsx`, `CartIcon.tsx`, `CartPage.tsx`                                                                                                                                                                                                                                                                                                                                                                              | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã |     |

### –§–ê–ó–ê 3: –ó–ê–ö–ê–ó–´ –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (3.5 –Ω–µ–¥–µ–ª–∏)

#### –°–ø—Ä–∏–Ω—Ç 3.1: –ú–æ–¥—É–ª—å Order (–î–Ω–∏ 29-35)

| –≠—Ç–∞–ø | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –î–µ—Ç–∞–ª–∏                                                                                                                                                                 | –í–∞–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã TDD               |     |
| ---- | --------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------- | --- |
| 1    | –°–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã          | `order/types/` —Å `OrderStatus` enum, `PaymentMethod`, `ShippingMethod`                                                                                                 | –ò—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–µ union —Ç–∏–ø—ã         |     |
| 2    | Checkout —Å—Ö–µ–º–∞        | –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è Zod —Å—Ö–µ–º–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è                                                                                                                           | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏       |     |
| 3    | –¢–µ—Å—Ç—ã CheckoutService | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:<br>‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—é –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏<br>‚Ä¢ –†–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–æ–≤ –ø–æ —Ä–µ–≥–∏–æ–Ω—É<br>‚Ä¢ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—É–ø–æ–Ω–æ–≤<br>‚Ä¢ –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è<br>‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–Ω–µ—Ç –Ω–∞ —Å–∫–ª–∞–¥–µ) | –ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏           |     |
| 4    | OrderService          | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å Prisma —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏                                                                                                                                       | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö |     |
| 5    | Order –º–æ–¥–µ–ª–µ–π         | –î–æ—Ä–∞–±–æ—Ç–∫–∞ Prisma schema: Order, OrderItem, OrderAddress                                                                                                                | –°–≤—è–∑–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã                  |     |
| 6    | API checkout          | `POST /api/checkout` - –æ—Å–Ω–æ–≤–Ω–æ–π endpoint                                                                                                                               | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –ø–æ—Ç–æ–∫–∞       |     |
| 7    | Checkout UI flow      | –ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π wizard: –∞–¥—Ä–µ—Å ‚Üí –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ                                                                                                      | E2E —Ç–µ—Å—Ç—ã Playwright             |     |

#### –°–ø—Ä–∏–Ω—Ç 3.2: –ú–æ–¥—É–ª—å Payment (–î–Ω–∏ 36-42)

| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ               | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è                                                                                                                                                                                                                                                                                                                     | –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è      |     |
| --- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------- | --- |
| 1   | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ | `payment/types/providers.ts`:<br><br>`export interface IPaymentProvider {`<br>` createPayment(order: Order, returnUrl: string): Promise<PaymentCreateResult>;`<br>` handleWebhook(payload: unknown, signature: string): Promise<WebhookResult>;`<br>` getPaymentStatus(paymentId: string): Promise<PaymentStatus>;`<br>`}`<br> | –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –º–æ–∫–æ–≤          |     |
| 2   | –¢–µ—Å—Ç—ã YookassaProvider | –ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å HTTP –≤—ã–∑–æ–≤—ã –∫ –ÆKassa API, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö                                                                                                                                                                                                                                                         | –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è             |     |
| 3   | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞  | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `yookassa-ts` –∏–ª–∏ –ø—Ä—è–º–æ–π API                                                                                                                                                                                                                                                                                      | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤ dev  |     |
| 4   | PaymentService         | –§–∞—Å–∞–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–±–æ—Ä–∞                                                                                                                                                                                                                                                                              | Unit —Ç–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏         |     |
| 5   | Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫     | `app/api/payment/webhook/route.ts` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–æ–¥–ø–∏—Å–∏                                                                                                                                                                                                                                                                        | –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏          |     |
| 6   | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Order     | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ                                                                                                                                                                                                                                                                                  | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å race conditions |     |

#### –°–ø—Ä–∏–Ω—Ç 3.3: –ú–æ–¥—É–ª—å Delivery (–î–Ω–∏ 43-49)

| –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –î–µ—Ç–∞–ª–∏                                                        | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                 |     |
| ------------------ | --------------------- | ------------------------------------------------------------- | --------------------------- | --- |
| 1                  | –¢–∏–ø—ã API –Ø–Ω–¥–µ–∫—Å       | –¢–æ—á–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏                  | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ API            |     |
| 2                  | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç–∞–≤–∫–∏    | `IDeliveryService` —Å –º–µ—Ç–æ–¥–∞–º–∏ —Ä–∞—Å—á–µ—Ç–∞, —Å–æ–∑–¥–∞–Ω–∏—è, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è | –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ |     |
| 3                  | –¢–µ—Å—Ç—ã —Å –º–æ–∫–∞–º–∏        | –ú–æ–∫–∏—Ä–æ–≤–∞—Ç—å API –Ø–Ω–¥–µ–∫—Å, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤    | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö  |     |
| 4                  | YandexDeliveryService | –ü—Ä—è–º—ã–µ HTTP –≤—ã–∑–æ–≤—ã —Å axios, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫                  | Retry –ª–æ–≥–∏–∫–∞                |     |
| 5                  | –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ        | –°–µ—Ä–≤–∏—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–Ø–Ω–¥–µ–∫—Å/Google API) | Fallback –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã         |     |
| 6                  | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è            | –í—ã–∑–æ–≤ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∏–Ω–≥ –Ω–æ–º–µ—Ä–∞                 | Transactional outbox        |     |
|                    |                       |                                                               |                             |     |

### –§–ê–ó–ê 4: –î–û–†–ê–ë–û–¢–ö–ò –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø (2 –Ω–µ–¥–µ–ª–∏)

#### –°–ø—Ä–∏–Ω—Ç 4.1: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–î–Ω–∏ 50-56)

| –ú–æ–¥—É–ª—å    | TDD —Ñ–æ–∫—É—Å       | –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Å—Ç—ã                                                           | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è        |     |
| --------- | --------------- | ------------------------------------------------------------------------ | ----------------- | --- |
| `user`    | –°–µ—Ä–≤–∏—Å—ã –ø—Ä–æ—Ñ–∏–ª—è | ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö<br>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞–º–∏<br>‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—Å –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏  | –° Auth –º–æ–¥—É–ª–µ–º    |     |
| `blog`    | API –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è | ‚Ä¢ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π<br>‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è slug<br>‚Ä¢ –ü–∞–≥–∏–Ω–∞—Ü–∏—è                       | SSG/ISR —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ |     |
| `review`  | –°—Ç—Ä–æ–≥–∏–π TDD     | ‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ (–ø–æ–∫—É–ø–∫–∞, —Å—Ä–æ–∫)<br>‚Ä¢ –†–∞—Å—á–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–æ–≤<br>‚Ä¢ –ú–æ–¥–µ—Ä–∞—Ü–∏—è | –°–≤—è–∑—å —Å Order     |     |
| `loyalty` | –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞  | ‚Ä¢ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤<br>‚Ä¢ –†–∞—Å—á–µ—Ç —Å–∫–∏–¥–æ–∫<br>‚Ä¢ –£—Å–ª–æ–≤–∏—è –∫—É–ø–æ–Ω–æ–≤              | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Cart |     |
|           |                 |                                                                          |                   |     |

#### –°–ø—Ä–∏–Ω—Ç 4.2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–î–Ω–∏ 57-60)

| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è   | –î–µ–π—Å—Ç–≤–∏—è                                      | –ú–µ—Ç—Ä–∏–∫–∏                          | –¢–µ—Å—Ç—ã               |     |
| ------------- | --------------------------------------------- | -------------------------------- | ------------------- | --- |
| –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ   | Redis –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞, —Å–µ—Å—Å–∏–π, API –æ—Ç–≤–µ—Ç–æ–≤       | –£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ 5x     | –¢–µ—Å—Ç—ã –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏   |     |
| –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è   | `next/image` + Cloudinary, WebP —Ñ–æ—Ä–º–∞—Ç        | Core Web Vitals >90              | –¢–µ—Å—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏   |     |
| Bundle –∞–Ω–∞–ª–∏–∑ | Code splitting, dynamic imports, tree shaking | Bundle size <500KB               | Bundle size —Ç–µ—Å—Ç—ã   |     |
| SEO           | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞—Ç–µ–≥–∏, sitemap, robots.txt    | SEO score >90                    | –¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏     |     |
| E2E —Ç–µ—Å—Ç—ã     | Playwright –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π              | 100% coverage –∫–ª—é—á–µ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ | –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã |     |
|               |                                               |                                  |                     |     |

### üéØ –ö–û–ù–¢–†–û–õ–¨–ù–´–ï –¢–û–ß–ö–ò (MILESTONES)

#### Milestone 1 (–î–µ–Ω—å 14): –†–∞–±–æ—Ç–∞—é—â–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤–æ–π—Ç–∏

- JWT —Ç–æ–∫–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã

- –ë–∞–∑–æ–≤—ã–π UI Kit –≥–æ—Ç–æ–≤

- Redux store –Ω–∞—Å—Ç—Ä–æ–µ–Ω

#### Milestone 2 (–î–µ–Ω—å 28): MVP –º–∞–≥–∞–∑–∏–Ω–∞

- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

- –†–∞–±–æ—Ç–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞ (–≥–æ—Å—Ç–µ–≤–∞—è + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è)

- –ë–∞–∑–æ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–±–µ–∑ –æ–ø–ª–∞—Ç—ã/–¥–æ—Å—Ç–∞–≤–∫–∏)

- –ê–¥–º–∏–Ω–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏

#### Milestone 3 (–î–µ–Ω—å 49): –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ–∫—É–ø–∫–∏

- –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –ÆKassa (—Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º)

- –†–∞—Å—á–µ—Ç –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏

- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞–∫–∞–∑–æ–≤

- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### Milestone 4 (–î–µ–Ω—å 60): Production Ready

- –í—Å–µ –º–æ–¥—É–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### üîß –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ –ò –ù–ê–°–¢–†–û–ô–ö–ò –î–õ–Ø TDD

#### Jest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (jest.config.js)

```javascript
module.exports = {
  preset: "ts-jest",
  testEnvironment: "node",
  setupFilesAfterEnv: ["<rootDir>/jest.setup.ts"],
  moduleNameMapping: {
    "^@/(.*)$": "<rootDir>/src/$1",
    "^@modules/(.*)$": "<rootDir>/src/modules/$1",
  },
  collectCoverageFrom: [
    "src/modules/**/services/*.ts",
    "!src/**/*.d.ts",
    "!src/**/*.test.ts",
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 90,
      lines: 90,
      statements: 90,
    },
  },
};
```

#### –°–∫—Ä–∏–ø—Ç—ã –≤ package.json

```json
{
  "scripts": {
    "test": "jest --passWithNoTests",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:service": "jest src/modules/*/__tests__/*.test.ts",
    "test:e2e": "playwright test",
    "type-check": "tsc --noEmit"
  }
}
```

### üìä –ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê TDD

#### –°–∏—Ç—É–∞—Ü–∏—è 1: –ù–µ —É—Å–ø–µ–≤–∞—é –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

```text
–†–µ—à–µ–Ω–∏–µ:
1. –í—Å–µ —Ä–∞–≤–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç –ü–û–°–õ–ï —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –µ—Å–ª–∏ "—Å–ª–æ–º–∞—Ç—å" —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—Ö–¥–æ–ª–≥, –≤–µ—Ä–Ω—É—Ç—å—Å—è –ø–æ–∑–∂–µ
```

#### –°–∏—Ç—É–∞—Ü–∏—è 2: –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ø–µ—Ä–≤—ã–º

```text
–†–µ—à–µ–Ω–∏–µ:
1. –ù–∞–ø–∏—Å–∞—Ç—å –£–ü–†–û–©–ï–ù–ù–´–ô —Ç–µ—Å—Ç (happy path)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
3. –î–æ–±–∞–≤–∏—Ç—å edge cases —Ç–µ—Å—Ç—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
```

#### –°–∏—Ç—É–∞—Ü–∏—è 3: –¢–µ—Å—Ç —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∫–æ–≤

```text
–†–µ—à–µ–Ω–∏–µ:
1. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–∑–∞–π–Ω - –º–æ–∂–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–π?
2. –°–æ–∑–¥–∞—Ç—å Test Doubles (Fakes/Stubs) –≤–º–µ—Å—Ç–æ –º–æ–∫–æ–≤
3. –í—ã–Ω–µ—Å—Ç–∏ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π —Å–µ—Ä–≤–∏—Å
```

### üìà –ì–†–ê–§–ò–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø (Gantt)

```gantt
    title –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Motherhood Shop
    dateFormat  DD-MM
    section –§–∞–∑–∞ 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç
    –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞       :01, 3d
    Auth –º–æ–¥—É–ª—å          :04, 7d
    UI –∏ Redux           :11, 4d

    section –§–∞–∑–∞ 2: –Ø–¥—Ä–æ –º–∞–≥–∞–∑–∏–Ω–∞
    –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤      :15, 7d
    –ö–æ—Ä–∑–∏–Ω–∞              :22, 7d

    section –§–∞–∑–∞ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    –ó–∞–∫–∞–∑—ã               :29, 7d
    –ü–ª–∞—Ç–µ–∂–∏              :36, 7d
    –î–æ—Å—Ç–∞–≤–∫–∞             :43, 7d

    section –§–∞–∑–∞ 4: –î–æ—Ä–∞–±–æ—Ç–∫–∏
    –î–æ–ø. –º–æ–¥—É–ª–∏          :50, 7d
    –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è          :57, 4d
```

–≠—Ç–æ—Ç –ø–ª–∞–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ TDD. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∏–º–µ–µ—Ç —á–µ—Ç–∫–∏–µ —Ü–µ–ª–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –≤–æ–≤—Ä–µ–º—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å.
